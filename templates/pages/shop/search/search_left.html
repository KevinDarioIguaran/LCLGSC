{% load static %}

{% block extra_styles %}
    <link rel="stylesheet" href="{% static 'styles/pages/shop/search/search_left.css' %}">
{% endblock %}

<div class="search-left">
    <form method="get" action="" class="filter-form">
        
        <!-- Subcategorías -->
        <div class="filter-box">
            <label for="id_subcategory" class="filter-title">Subcategorías</label>
            <br>
            <select name="subcategory" id="id_subcategory" class="subcategory-select">
                <option value="">Todas</option>
                {% for sub in subcategories %}
                    <option value="{{ sub.id }}" {% if sub.id|stringformat:"s" == request.GET.subcategory %}selected{% endif %}>
                        {{ sub.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Descuento (simulado por ahora) -->
        <div class="filter-box">
            <h2 class="filter-title">Descuento</h2>
            <label class="filter-option">
                <input type="checkbox" name="has_discount" {% if request.GET.has_discount %}checked{% endif %}>
                Con descuento
            </label>
            <label class="filter-option">
                <input type="checkbox" name="on_offer" {% if request.GET.on_offer %}checked{% endif %}>
                Ofertas
            </label>
        </div>

        <!-- Rango de precio -->
        <div class="filter-box">
            <h2 class="filter-title">Rango de precio</h2>
            <div class="price-input-group">
                <label for="{{ form_filter.price_min.id_for_label }}" class="price-label">Desde:</label>
                {{ form_filter.price_min }}
            </div>
            <br>
            <div class="price-input-group">
                <label for="{{ form_filter.price_max.id_for_label }}" class="price-label">Hasta:</label>
                {{ form_filter.price_max }}
            </div>
        </div>

        <!-- Botón de envío -->
        <div class="price-button-group">
            <button type="submit" class="submit-btn">Filtrar</button>
        </div>

    </form>
</div>
